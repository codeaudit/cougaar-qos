#!/bin/sh

libdir=${COUGAAR_SRC_PATH}/core/src/org/cougaar/core/thread
LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${libdir}
export LD_LIBRARY_PATH
# export DYLD_LIBRARY_PATH=${DYLD_LIBRARY_PATH}:${QUO_ROOT}/lib

count="-Dorg.cougaar.thread.running.max=${THREAD_MAX:-1}"
debug="-Dorg.cougaar.thread.debug=${DEBUG_THREADS:-false}"
scheduler="-Dorg.cougaar.thread.timeslice=${TIME_SLICE:-true}"

#aspects=" -Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.PrioritizedThreadsAspect,org.cougaar.core.mts.WasteCPUAspect  -Dorg.cougaar.lib.quo.priorities=${COUGAAR_SRC_PATH}/quo/bin/props/cougaar/performance-priorities.props"


#aspects=" -Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.PercentageCPUThreadsAspect,org.cougaar.core.mts.WasteCPUAspect  -Dorg.cougaar.lib.quo.percentages=${COUGAAR_SRC_PATH}/quo/bin/props/cougaar/performance-percentages.props"


#aspects=" -Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.WasteCPUAspect"

aspects=" -Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.WasteCPUAspect -Dorg.cougaar.message.transport.percentages=${COUGAAR_SRC_PATH}/quo/bin/props/cougaar/performance-percentages.props -Dorg.cougaar.message.transport.threadtest=true"

COUGAAR_JAVA_ARGS="$count $scheduler $debug $aspects"

export COUGAAR_JAVA_ARGS

exec ${COUGAAR_INSTALL_PATH}/core/bin/Node $*

