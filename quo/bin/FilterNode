#!/bin/sh

#Debug
#debug=" -Dorg.cougaar.message.transport.debug=service,comm"

#logging=-Dorg.cougaar.core.logging.config.filename=$COUGAAR_INSTALL_PATH/quo/bin/props/cougaar/logging.props


#Compression only

#COUGAAR_JAVA_ARGS="-Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.CompressingStreamsAspect -Dcompression-level=2"



#Checksum only

#COUGAAR_JAVA_ARGS="-Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.ChecksumStreamsAspect"



# Measure latency only

#COUGAAR_JAVA_ARGS="-Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.CountBytesStreamsAspect"


# Compress, then preserialize

#COUGAAR_JAVA_ARGS="-Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.ChecksumStreamsAspect,org.cougaar.core.mts.PreserializingStreamsAspect,org.cougaar.core.mts.CompressingStreamsAspect  -Dcompression-level=2"



# Combined Compression and checksum. THIS DOES NOT WORK: compressing
# streams can't handle tailers written after the compression (eg
# ChecksumStreamsAspect).

#COUGAAR_JAVA_ARGS="-Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.ChecksumStreamsAspect,org.cougaar.core.mts.CompressingStreamsAspect -Dcompression-level=2"

# As above but flip the order.  This version works, since the
# compression stream runs after the ChecksumStreamsAspect.  But of
# course the checksum isn't running on the compressed data in this
# version

COUGAAR_JAVA_ARGS="-Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.CompressingStreamsAspect,org.cougaar.core.mts.ChecksumStreamsAspect -Dcompression-level=2"




# Protection Compression and prototype Statistics.
# CountBytesStreamsAspect doesn't write a tailer so it can follow
# CompressingStreamsAspect. So far MessageProtectionAspect doesn't
# write a tailer either.  But if it does at some point, we have a
# problem (unless it also preserializes).

#COUGAAR_JAVA_ARGS="-Dorg.cougaar.message.transport.aspects=org.cougaar.core.mts.MessageProtectionAspect,org.cougaar.core.mts.CountBytesStreamsAspect,org.cougaar.core.mts.CompressingStreamsAspect -Dcompression-level=2"







export COUGAAR_JAVA_ARGS


exec ${COUGAAR_INSTALL_PATH}/core/bin/Node $*
